
local buttons={}
local term

function init(termside)
	term = peripheral.wrap(termside)
end

function clear()
	term.setBackgroundColor(colors.black)
	term.clear()
end

button = {}
function button.new (atext,acolor,ax,ay,acallback)
	local self = {}
	local callback=acallback
	local text = atext
	local color= acolor
	self.x=ax
	self.y=ay
	function isClicked(cx,cy)
		if(((cy >= y and cy <= y+2) and ( cx >= x and cx<= x+string.len (text)+2)))then
		callback()
		end
	end
	function self.draw()
		term.setBackgroundColor(color)
		
		term.setCursorPos(x,y)
		term.write(string.rep(" ",string.len (text)+2))
		
		term.setCursorPos(x,y+1)
		term.write(" "..text.." ")
		
		term.setCursorPos(x,y+2)
		term.write(string.rep(" ",string.len (text)+2))
	end
	table.insert(buttons,self)	
	return self
end

function redraw()
	clear()
	for b in butons do
	b.draw()
	end
end
--local b = button.new ("right","test",colors.green,2,2)
--b.draw()