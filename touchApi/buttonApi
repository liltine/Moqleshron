
local buttons={}
local term

function init(termside)
	term = peripheral.wrap(termside)
end

function clear()
	term.setBackgroundColor(colors.black)
	term.clear()
end

button = {}
function button.new (atext,acolor,ax,ay,acallback)
	local self = {}
	local callback=acallback
	local text = atext
	local color= acolor
	local x=ax
	local y=ay
	local key=0
	function self.isClicked(cx,cy)
		if(((cy >= y and cy <= y+2) and ( cx >= x and cx<= x+string.len (text)+2)))then
		callback()
		end
	end
	function self.draw()
		term.setBackgroundColor(color)
		
		term.setCursorPos(x,y)
		term.write(string.rep(" ",string.len (text)+2))
		
		term.setCursorPos(x,y+1)
		term.write(" "..text.." ")
		
		term.setCursorPos(x,y+2)
		term.write(string.rep(" ",string.len (text)+2))
	end
	
	function self.delete()
		buttons[key]=nil
	end
	
	table.insert(buttons,self)
	
	key= table.maxn(buttons)
	
	return self
end

function redraw()
	clear()
	for k,b in pairs(buttons) do
		if(b ~= nil) then
		b.draw()
		end
	end
end
--local b = button.new ("right","test",colors.green,2,2)
--b.draw()